# Аудио и видео звонок в чат

**Акторы:** пользователь.

**Цель:** пользователь совершает аудио или видео звонок в чат, чтобы пообщаться с группой пользователей (которые находятся онлайн) конкретного чата.

**Предусловия:** пользователь зашел в приложение и авторизовался, у него открыт конкретный чат, с пользователями которого он хочет пообщаться посредствам аудио или видео звонка.

**Сценарий:**
1. Пользователь открывает меню для выбора типа звонка, нажав на кнопку "трубка" в меню конкретного чата.
2. Приложение показывает подменю в котором отображается кнопка "аудиозаонок" и "видеозвонок".
3. Пользователь совершает аудиозвонок, нажав на кнопку "аудиозвонок".
Пользователь может совершить видеозвонок, нажав на кнопку "видеозвонок" [Совершение видеозвонка].
4. Приложение отправляет в бекенд запрос на совершение аудиозвонка.
{Успешное создание аудиозвонка}
5. Бекенд возвращает ответ успешного совершения звонка.
6. Приложение открывает окно вызова.

**Результат:**
* Открывается окно вызова.
* В чате отображается время начала и длительность разговора.

**Исключения:**
1. Если ни один пользователь (находящиеся онлайн) не отвечает или сбрасывает звонок показывается ошибка "Пользователь не отвечают".
2. Если пользователи разговаривает с другим пользователем показывается ошибка "Пользователь разговаривает".


**Альтернативный сценарий:**

[Совершение видеозвонка], если пользователь нажал на кнопку "видеозвонок".

3. Пользователь совершает видеозвонок, нажав на кнопку "видеозвонок".
4. Приложение отправляет в бекенд запрос на совершение видеозвонка.
Возврат на шаг 5 {Успешное завершение аудиозвонка}.
