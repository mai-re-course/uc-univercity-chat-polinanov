# Аудио и видео звонок пользователю

**Акторы:** авторизованный пользователь. (фронтенд, бекенд)

**Цель:** пользователь совершает аудио- или видеозвонок с другим пользователем, чтобы пообщаться с ним напрямую.

**Предусловия:** у авторизованного пользователя открыт чат с конкретным пользователем, к которому он хочет совершить аудио- или видеозвонок.

**Сценарий:**
1. Пользователь открывает меню для выбора типа звонка.//, нажав на кнопку "трубка" в меню.
2. Приложение показывает подменю в котором отображается кнопка "аудиозаонок" и "видеозвонок".
3. Пользователь выбирает аудиозвонок//протокол сокет//, нажав на кнопку "аудиозвонок".

    Пользователь может [совершить видеозвонок](# сценарий видеозвонка) ссылка!, нажав на кнопку "видеозвонок".

4. Приложение отправляет в бекенд запрос на совершение аудиозвонка.(второй пользователь)(сохраняется в истории, длительность, быстрое отправка смс)

{Успешное создание аудиозвонка}

5. Бекенд возвращает ответ успешного совершения звонка.
6. Приложение открывает окно вызова.
7. Начало потока аудио --
...
8. Окончание звонка.

**Результат:**
* Открывается окно вызова.
* В персональном чате отображается время начала и длительность разговора.

**Исключения:**
1. Если пользователь не отвечает 10 секунд "Пользователь не отвечает".
2. Сбрасывает звонок показывается ошибка "Пользователь не отвечает".
2. Если пользователь !!!!!!!!!разговаривает!!!!!!!!!!!! с другим пользователем показывается ошибка "Пользователь разговаривает".


**Альтернативный сценарий:**

[Совершение видеозвонка], если пользователь нажал на кнопку "видеозвонок".

3. Пользователь совершает видеозвонок, нажав на кнопку "видеозвонок".
4. Приложение отправляет в бекенд запрос на совершение видеозвонка.
Возврат на шаг 5 {Успешное завершение аудиозвонка}.
